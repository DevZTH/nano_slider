function fixEvent(a){return a=a||window.event,a.target||(a.target=a.srcElement),null==a.pageX&&null!=a.clientX&&(html=DC.DCElement,B=DC.body,a.pageX=a.clientX+(html.scrollLeft||B&&B.scrollLeft||0),a.pageX-=html.clientLeft||0),!a.which&&a.button&&(a.which=1&a.button?1:2&a.button?3:4&a.button?2:0),a}function getCoords(a){return box=a.getBoundingClientRect(),B=DC.body,D=DC.documentElement,scrollLeft=window.pageXOffset||D.scrollLeft||B.scrollLeft,clientLeft=D.clientLeft||B.clientLeft||0,left=box.left+scrollLeft-clientLeft,{top:MF(top),left:MF(left)}}function nano_slider(a,b,c,d,e){this.sliderElem=DC.getElementById(a),this.thumbElem=this.sliderElem.children[0];var f=this;val=0,this.val=function(){return val},this.thumbElem.ondragstart=function(){return!1},this.thumbElem.onmousedown=function(a){return a=fixEvent(a),thumbCoords=getCoords(f.thumbElem),shiftX=a.pageX-thumbCoords.left,sliderCoords=getCoords(f.sliderElem),DC.onmousemove=function(a){a=fixEvent(a),pos=a.pageX-shiftX-sliderCoords.left,0>pos&&(pos=0),max_pos=f.sliderElem.offsetWidth-f.thumbElem.offsetWidth,pos>max_pos&&(pos=max_pos),k=(c-b)/max_pos,val=MF(b+pos*k),DC.getElementById(e).innerHTML=val,pos=Math.floor(MF(pos*k)/k),f.thumbElem.style.left=pos+"px"},DC.onmouseup=function(){DC.onmousemove=DC.onmouseup=null,d&&d(val)},!1},this.destroy=function(){this.thumbElem.onmousedown=null}}DC=document,MF=Math.round;
